package com.qasystem.service;

import java.util.List;

/**
 * 🔍 文档内容敏感词扫描服务
 * 
 * 📖 这是什么？
 * 这个服务就像一个"文字安全检测器"，用来检查学生提交的文档中是否包含敏感词汇。
 * 就像机场安检扫描违禁物品，这个服务扫描文档中的敏感词汇（政治敏感、暴力色情等）。
 * 
 * 🎯 核心功能：
 * 1. 扫描文本中的敏感词：找出文本中出现的所有敏感词
 * 2. 快速检测：判断文本是否包含敏感词（不需要详细列表）
 * 
 * 💡 使用场景：
 * - 学生上传文档时，自动扫描是否包含敏感词
 * - 如果包含敏感词，拒绝上传并提示学生修改
 * - 管理员批量扫描已有文档，查找问题内容
 * - 显示具体命中的敏感词，方便学生定位修改
 * 
 * ⚠️ 为什么需要敏感词过滤？
 * 1. 法律合规：网络平台需要对用户内容负责
 * 2. 学校管理：保证学术内容的严肃性和规范性
 * 3. 风险预防：避免不良内容被存储和传播
 * 
 * @author 师生答疑系统开发团队
 */
public interface DocContentFilterService {

    /**
     * 🔎 扫描文本中的敏感词
     * 
     * 🎯 功能说明：
     * 扫描文本内容，返回所有命中的敏感词列表（自动去重）。
     * 就像用搜索引擎查找文章中的关键词，这里查找的是敏感词。
     * 
     * 💡 扫描逻辑：
     * 1. 从数据库加载所有启用的敏感词（通常会缓存提高性能）
     * 2. 使用高效算法（如DFA算法）匹配文本中的敏感词
     * 3. 收集所有命中的敏感词，去除重复后返回
     * 
     * 💬 使用场景：
     * - 学生上传文档后，系统扫描并显示："您的文档包含敏感词：[词1, 词2]"
     * - 学生可以看到具体是哪些词被标记为敏感词，方便定位修改
     * - 管理员批量扫描文档，生成报告："文档123包含敏感词[...]"
     * 
     * 📥 参数说明：
     * @param text 要扫描的文本内容
     * 
     * 📤 返回示例：
     * // 如果文本是："这是一篇关于计算机网络的论文，内容包含..."
     * // 假设没有敏感词
     * []  // 返回空列表
     * 
     * // 如果文本包含敏感词："这是一篇论文，包含敏感词1和敏感词2，还有敏感词1。"
     * ["敏感词1", "敏感词2"]  // 自动去重，只返回一次"敏感词1"
     * 
     * ⚠️ 性能优化：
     * - 敏感词库会缓存在内存，避免每次查数据库
     * - 使用DFA（确定有限自动机）算法，一次扫描即可找出所有敏感词
     * - 即使文本很长，扫描速度也很快
     * 
     * @return 命中的敏感词列表（已去重），如果没有命中则返回空列表
     */
    List<String> findSensitiveWords(String text);

    /**
     * ✅ 快速判断是否包含敏感词
     * 
     * 🎯 功能说明：
     * 快速判断文本中是否包含敏感词，只返回true/false。
     * 就像机场安检仪响铃，只告诉你"有问题"或"没问题"，不告诉你具体是什么问题。
     * 
     * 💡 与findSensitiveWords()的区别：
     * - findSensitiveWords()：扫描全文，返回所有敏感词列表（慢但详细）
     * - containsSensitiveWord()：只判断有没有，发现一个就立即返回true（快但简略）
     * 
     * 💡 性能优化：
     * 这个方法有性能优势：
     * - 一旦发现任意一个敏感词，立即返回true，不继续扫描
     * - 不需要收集列表，不需要去重，速度更快
     * - 适合用于前置检查：先快速判断是否有问题，再决定是否详细扫描
     * 
     * 💬 使用场景：
     * - 学生上传文档时，先快速检测是否有敏感词
     * - 如果contains=false，直接通过，不需要详细扫描
     * - 如果contains=true，再调用findSensitiveWords()获取详细列表显示给学生
     * - 批量处理时先快速筛选出有问题的文档，再重点处理
     * 
     * 📥 参数说明：
     * @param text 要检测的文本内容
     * 
     * 📤 返回示例：
     * // 正常文本
     * containsSensitiveWord("这是一篇关于计算机网络的论文")  → false
     * 
     * // 包含敏感词的文本
     * containsSensitiveWord("这是一篇包含敏感词1的论文")  → true
     * 
     * ⚠️ 注意事项：
     * - 这个方法只告诉你有还是没有，不告诉你具体是哪些词
     * - 如需详细信息，请使用findSensitiveWords()
     * - 建议先用这个方法快速判断，再决定是否需要详细扫描
     * 
     * @return true=包含敏感词，false=不包含敏感词
     */
    boolean containsSensitiveWord(String text);
}
